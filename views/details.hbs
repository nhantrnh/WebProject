<style>
    
.product-name {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    transition: all 0.3s ease;
    padding-bottom: 7px;
}
.product:hover .product-name {
    white-space: normal;
    overflow: initial;
    text-overflow: ellipsis;
    transition: all 0.3s ease;
    padding-bottom: 7px;
    display: block;
    width: 100%;
    -webkit-line-clamp: initial;  /* Hủy bỏ giới hạn dòng khi hover */
}

.product-image {
    width: 150px;
    height: 150px;
    align-items: center;
    justify-items: center;
    align-content: center;
    /*background-color: blue;*/
    padding-bottom: 10px;
}
.product {
    width: 160px;
    height: 250px;
    transition: transform 0.3s ease-in-out;
    position: relative;
    z-index: 1;
    margin: 10px;
    padding: 5px;
    /*background: black; /* Màu trắng có độ trong suốt 0.8 */
    margin-bottom: 5px;
    
}
.product:hover {
  z-index: 2;
  box-shadow: 0 4px 8px rgba(0,0,0,0.4);
}
.card {
    border: none;
    padding-top: 5px;
}
</style>

<div class="container-fluid d-flex flex-column align-items-center justify-content-center">
    <div class=" text-center pt-5">
    </div>
    <div class="row justify-content-center">
        <div class="col-5">     
          <img src="{{product.images}}"
          class="card-img-top" alt="...">                  
        </div>
        <div class="col-5" style="background-color: red;">
            <div>
                  <h3 style="text-align: left;font-weight: bold;">{{product.name}}</h3>
                  <div class="row containerDetails" style="text-align: left;">
                  <p>Mã sản phẩm: 
                      <span style="font-weight: bold;">{{product.id}}</span> 
                  </p>
                  </div>
                  <h4 class="titleDetails">CHI TIẾT SẢN PHẨM</h4>
                    <table class="table table-borderless">
                        <body>
                        <tr>
                            <th class="tableDetails" scope="row">Danh mục </th>
                            <td style="display: flex; gap: 5px;">
                            {{product.item}}
                            </td>
                        </tr>
                        <tr>
                            <th class="tableDetails" scope="row">Thương hiệu </th>
                            <td style="display: flex; gap: 5px;">
                            {{product.producer}}
                            </td>
                        </tr>
                        </body>
                    </table>
                    <table class="table table-borderless" >
                      <tbody>
                          <tr>
                          <th class="tableDetails" scope="row">Giá:</th>
                          <td style="text-align: left;">
                              <span style=" color: red;font-weight: bold;">{{product.price}}
                              </span>
                              {{#if (product.discount)}}
                                  <span style="color: gray; font-size: 20px; margin-left: 7px; text-decoration: line-through;">{{product.price}}</span>
                                  <span class="text-box">{{product.discount}}</span>
                              {{else}} <span></span>
                              {{/if}}
                          </td>
                          </tr>
                          <tr>
                              <th class="tableDetails" scope="row">Kích thước: </th>
                              <td>
                              <select class="form-select form-select-sm" aria-label="Small select example" style="height: 35px; width: 150px;" id="size" name="size" required>
                                  <option value="" style="display:none">Chọn kích thước</option>
                                  {{#each product.size as |size|}}
                                  <option value="{{size}}">{{size}}</option>
                                  {{/each}}
                              </select>                        
                              </td>
                          </tr>
                          <tr>
                          <th class="tableDetails" scope="row">Số lượng:</th>
                          <td style="display: flex; gap: 5px;">
                              <div class="quantity">
                              <button class="minus-btn">-</button>
                              <input type="text" class="quantity-input" value="1">
                              <button class="plus-btn">+</button>
                          </div>
                          </td>
                          </tr>
                      </tbody>
                    </table>
                  <button class="add-to-cart btn btn-primary ml-2">THÊM VÀO GIỎ</button>
        </div>
    </div>
    <div>
        <div>
        
        <h4 class="titleDetails">MÔ TẢ SẢN PHẨM</h4>
        <p>{{product.fullDes}}</p>
        <h4 style="margin-top: 20px;"class="tableDetails">Sản phẩm thuộc cùng danh mục</h4>

        <div class="container">
            <div class="row justify-content-leftss">
                {{#each productCon}}
                <div class="col-3 product" id="product{{this.id}}">
                    <div class="card">
                        <a href="/products/{{this.id}}" >
                            <img src="https://vcdn1-dulich.vnecdn.net/2022/05/27/du-lich-Viet-Nam-3-1653637304.jpg?w=460&h=0&q=100&dpr=2&fit=crop&s=RfDpCzqu8VqhgKuSKMo3JQ"
                                class=" product-image" alt="...">
                        </a>
                        
                        <a href="/products/{{this.id}}" >
                            <div class="product-name text-left">{{this.name}}</div>
                        </a>
                        <div class="d-flex justify-content-between align-items-center">
                          <span class="product-price">{{this.price}}</span>
                      </div>               
                    </div>
                </div>
                {{/each}}
            </div>
        </div>

         <h4 style="margin-top: 20px;"class="tableDetails">Có thể bạn cũng thích</h4>
        <div class="container">
            <div class="row justify-content-leftss">
                {{#each productSuggest}}
                <div class="col-3 product" id="product{{this.id}}">
                    <div class="card">
                        <a href="/products/{{this.id}}" >
                            <img src="https://vcdn1-dulich.vnecdn.net/2022/05/27/du-lich-Viet-Nam-3-1653637304.jpg?w=460&h=0&q=100&dpr=2&fit=crop&s=RfDpCzqu8VqhgKuSKMo3JQ"
                                class=" product-image" alt="...">
                        </a>
                        
                        <a href="/products/{{this.id}}" >
                            <div class="product-name text-left">{{this.name}}</div>
                        </a>
                        <div class="d-flex justify-content-between align-items-center">
                          <span class="product-price">{{this.price}}</span>
                      </div>               
                    </div>
                </div>
                {{/each}}
            </div>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const minusBtn = document.querySelector(".minus-btn");
        const plusBtn = document.querySelector(".plus-btn");
        const quantityInput = document.querySelector(".quantity-input");

        minusBtn.addEventListener("click", function() {
            let value = parseInt(quantityInput.value);
            value = isNaN(value) ? 0 : value;
            value = value <= 1 ? 1 : value - 1;
            quantityInput.value = value;
        });

        plusBtn.addEventListener("click", function() {
            let value = parseInt(quantityInput.value);
            value = isNaN(value) ? 0 : value;
            value = value + 1;
            quantityInput.value = value;
        });
    });
</script>
